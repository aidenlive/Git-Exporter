/**
 * Static Page Enhancements
 * Integrates GitHub Exporter design system with Bootstrap forms
 * @version 1.0.0
 */

/* ============================================================================
   DESIGN TOKENS (Matching GitHub Exporter)
   ========================================================================= */

:root {
  /* Spacing - 4px Grid */
  --static-space-2: 8px;
  --static-space-3: 12px;
  --static-space-4: 16px;
  --static-space-5: 20px;
  --static-space-6: 24px;

  /* Colors - Monochrome OKLCH (Light Theme) */
  --static-mono-0: oklch(100% 0 0);
  --static-mono-50: oklch(98% 0 0);
  --static-mono-100: oklch(96% 0 0);
  --static-mono-200: oklch(92% 0 0);
  --static-mono-300: oklch(88% 0 0);
  --static-mono-500: oklch(60% 0 0);
  --static-mono-600: oklch(45% 0 0);
  --static-mono-900: oklch(10% 0 0);

  /* Semantic Colors */
  --static-bg: var(--static-mono-100);
  --static-surface: var(--static-mono-0);
  --static-surface-raised: var(--static-mono-50);
  --static-border: var(--static-mono-300);
  --static-border-subtle: var(--static-mono-200);

  --static-text: var(--static-mono-900);
  --static-text-secondary: var(--static-mono-600);
  --static-text-tertiary: var(--static-mono-500);
  --static-text-inverse: var(--static-mono-0);

  --static-interactive: var(--static-mono-900);
  --static-interactive-hover: oklch(20% 0 0);

  /* Shadows */
  --static-shadow-sm: 0 2px 4px oklch(0% 0 0 / 0.06);
  --static-shadow-md: 0 4px 8px oklch(0% 0 0 / 0.08);

  /* Focus */
  --static-focus-ring: 0 0 0 3px oklch(0% 0 0 / 0.08);

  /* Border Radius */
  --static-radius-md: 8px;
  --static-radius-lg: 12px;
  --static-radius-xl: 16px;

  /* Transitions */
  --static-transition: 200ms cubic-bezier(0, 0, 0.2, 1);
}

/* Dark Theme */
@media (prefers-color-scheme: dark) {
  :root {
    --static-mono-0: oklch(0% 0 0);
    --static-mono-50: oklch(10% 0 0);
    --static-mono-100: oklch(15% 0 0);
    --static-mono-200: oklch(22% 0 0);
    --static-mono-300: oklch(28% 0 0);
    --static-mono-500: oklch(60% 0 0);
    --static-mono-600: oklch(75% 0 0);
    --static-mono-900: oklch(96% 0 0);

    --static-interactive-hover: oklch(92% 0 0);
    --static-focus-ring: 0 0 0 3px oklch(100% 0 0 / 0.12);
  }
}

/* ============================================================================
   FILE UPLOAD SECTION ENHANCEMENT
   ========================================================================= */

/* Enhanced File Upload Container */
.static-file-upload-section {
  padding: var(--static-space-6);
  background: var(--static-surface);
  border: 1px solid var(--static-border-subtle);
  border-radius: var(--static-radius-xl);
  margin-bottom: var(--static-space-6);
  transition: all var(--static-transition);
}

.static-file-upload-section:hover {
  border-color: var(--static-border);
  box-shadow: var(--static-shadow-sm);
}

.static-file-upload-section .form-group {
  margin-bottom: 0;
}

/* File Upload Label */
.static-file-upload-section label {
  font-size: 15px;
  font-weight: 600;
  color: var(--static-text);
  margin-bottom: var(--static-space-3);
  letter-spacing: -0.01em;
}

/* File Input Wrapper - Matches GitHub Exporter */
.static-file-input-wrapper {
  position: relative;
  display: block;
  width: 100%;
}

.static-file-input-wrapper input[type="file"] {
  width: 100%;
  padding: var(--static-space-4);
  font-size: 14px;
  color: var(--static-text-secondary);
  background: var(--static-bg);
  border: 1px dashed var(--static-border);
  border-radius: var(--static-radius-lg);
  cursor: pointer;
  transition: all var(--static-transition);
}

.static-file-input-wrapper input[type="file"]:hover {
  border-color: var(--static-border);
  background: var(--static-surface-raised);
}

.static-file-input-wrapper input[type="file"]:focus {
  outline: none;
  border-color: var(--static-interactive);
  box-shadow: var(--static-focus-ring);
  border-style: solid;
}

/* GitHub Export Trigger Button (Inline Pattern) */
.static-file-input-wrapper .gh-export-trigger {
  margin-top: var(--static-space-3);
  display: inline-flex;
  align-items: center;
  gap: var(--static-space-2);
  padding: var(--static-space-3) var(--static-space-5);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: var(--static-text);
  background: var(--static-surface-raised);
  border: 1px solid var(--static-border);
  border-radius: var(--static-radius-lg);
  cursor: pointer;
  transition: all var(--static-transition);
  white-space: nowrap;
  text-decoration: none;
}

.static-file-input-wrapper .gh-export-trigger:hover {
  background: var(--static-bg);
  border-color: var(--static-interactive);
  color: var(--static-text);
  transform: translateY(-1px);
  box-shadow: var(--static-shadow-sm);
  text-decoration: none;
}

.static-file-input-wrapper .gh-export-trigger:active {
  transform: scale(0.98);
}

.static-file-input-wrapper .gh-export-trigger i {
  font-size: 18px;
}

/* Help Text Styling */
.static-file-upload-section .form-text {
  font-size: 13px;
  line-height: 1.5;
  color: var(--static-text-tertiary);
  margin-top: var(--static-space-2);
}

.static-file-upload-section .form-text:not(:last-child) {
  margin-bottom: var(--static-space-2);
}

/* GitHub Icon Styling */
.static-github-icon {
  display: inline-flex;
  align-items: center;
  gap: var(--static-space-2);
  padding: var(--static-space-2) var(--static-space-3);
  font-size: 12px;
  font-weight: 500;
  color: var(--static-text-secondary);
  background: oklch(from var(--static-interactive) l c h / 0.05);
  border-radius: var(--static-radius-md);
  margin-top: var(--static-space-2);
}

.static-github-icon i {
  font-size: 14px;
}

/* ============================================================================
   MOBILE RESPONSIVENESS
   ========================================================================= */

@media (max-width: 640px) {
  .static-file-upload-section {
    padding: var(--static-space-4);
  }

  .static-file-input-wrapper .gh-export-trigger span {
    display: none;
  }

  .static-file-input-wrapper .gh-export-trigger {
    padding: var(--static-space-3);
  }
}

/* ============================================================================
   INTEGRATION WITH EXISTING BOOTSTRAP STYLES
   ========================================================================= */

/* Ensure compatibility with Bootstrap card */
.card .static-file-upload-section {
  border: 1px solid var(--static-border-subtle);
}

/* Match Bootstrap form spacing */
.card-body > form > .static-file-upload-section:first-child {
  margin-top: 0;
}

/* ============================================================================
   ENHANCED FORM INPUTS (Optional - Apply to all inputs)
   ========================================================================= */

/* Subtle enhancement to all form inputs */
.static-enhanced-form .form-control {
  border-color: var(--static-border-subtle);
  transition: all var(--static-transition);
}

.static-enhanced-form .form-control:hover {
  border-color: var(--static-border);
}

.static-enhanced-form .form-control:focus {
  border-color: var(--static-interactive);
  box-shadow: var(--static-focus-ring);
}

/* ============================================================================
   LOADING STATE
   ========================================================================= */

.static-file-input-wrapper.is-loading input[type="file"] {
  pointer-events: none;
  opacity: 0.6;
}

.static-file-input-wrapper.is-loading .gh-export-trigger {
  pointer-events: none;
  opacity: 0.6;
}

/* ============================================================================
   SUCCESS STATE (After file attached)
   ========================================================================= */

.static-file-input-wrapper.has-file input[type="file"] {
  border-color: oklch(60% 0.12 145);
  border-style: solid;
  background: oklch(60% 0.12 145 / 0.05);
}

.static-file-input-wrapper.has-file .static-github-icon {
  background: oklch(60% 0.12 145 / 0.1);
  color: oklch(45% 0.12 145);
}

/* ============================================================================
   ACCESSIBILITY
   ========================================================================= */

@media (prefers-reduced-motion: reduce) {
  .static-file-upload-section,
  .static-file-input-wrapper input[type="file"],
  .static-file-input-wrapper .gh-export-trigger {
    transition-duration: 0.01ms !important;
  }
}

:focus:not(:focus-visible) {
  outline: none;
}

/* Touch device optimization */
@media (hover: none) and (pointer: coarse) {
  .static-file-input-wrapper .gh-export-trigger {
    min-height: 44px;
  }
}
